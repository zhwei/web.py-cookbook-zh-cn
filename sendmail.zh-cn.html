<table>
<tbody>
<tr class="odd">
<td align="left">layout: default</td>
</tr>
<tr class="even">
<td align="left">title: 发送邮件</td>
</tr>
</tbody>
</table>
<h1 id="发送邮件">发送邮件</h1>
<h3 id="问题">问题</h3>
<p>在web.py中，如何发送邮件？</p>
<h3 id="解法">解法</h3>
<p>在web.py中使用<code>web.sendmail()</code>发送邮件.</p>
<pre><code>web.sendmail(&#39;cookbook@webpy.org&#39;, &#39;user@example.com&#39;, &#39;subject&#39;, &#39;message&#39;)</code></pre>
<p>如果在<code>web.config</code>中指定了邮件服务器，就会使用该服务器发送邮件，否则，就根据<code>/usr/lib/sendmail</code>中的设置发送邮件。</p>
<pre><code>web.config.smtp_server = &#39;mail.mydomain.com&#39;</code></pre>
<p>如果要发送邮件给多个收件人，就给to_address赋值一个邮箱列表。</p>
<pre><code>web.sendmail(&#39;cookbook@webpy.org&#39;, [&#39;user1@example.com&#39;, &#39;user2@example.com&#39;], &#39;subject&#39;, &#39;message&#39;)</code></pre>
<p><code>cc</code>和<code>bcc</code>关键字参数是可选的，分别表示抄送和暗送接收人。这两个参数也可以是列表，表示抄送/暗送多人。</p>
<pre><code>web.sendmail(&#39;cookbook@webpy.org&#39;, &#39;user@example.com&#39;, &#39;subject&#39;, &#39;message&#39;, cc=&#39;user1@example.com&#39;, bcc=&#39;user2@example.com&#39;)</code></pre>
<p><code>headers</code>参数是一个元组，表示附加标头信息(Addition headers)</p>
<pre><code>web.sendmail(&#39;cookbook@webpy.org&#39;, &#39;user@example.com&#39;, &#39;subject&#39;, &#39;message&#39;,
        cc=&#39;user1@example.com&#39;, bcc=&#39;user2@example.com&#39;,
        headers=({&#39;User-Agent&#39;: &#39;webpy.sendmail&#39;, &#39;X-Mailer&#39;: &#39;webpy.sendmail&#39;,})
        )</code></pre>
<h2><a href="index.html">首页</a></h2>

<style>
pre {
    background-color:#F0F0F0;
    border:1px solid #CCCBBA;
       padding: 10px 10px 10px 20px;
}
code {
    background: inherit;
    color: inherit;
}
.warning {
    border: 1px solid #FFAAAA;
    padding: 10px;
    background-color: #FFF0F0;
}
</style>
